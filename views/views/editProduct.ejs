<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head', {title: "Home"})%>

<body>
    <%- include('./partials/header')%>
    <main id="formulario-registro">
        <h3>Editá los datos del producto</h3>
        <form class="formularios" action="/products/edit/<%= productoEncontrado.id %>?_method=PUT" method="post" enctype="multipart/form-data" id="edit_product_form">
            <div>
                <label>Nombre:</label>
                <input class="text-field" input="text" name="name" id="name" value="<%= locals.oldData ? oldData.name : null%>">
                <div id="name-error" class="error-message"></div>
                <% if(locals.errors && errors.name) { %>
                    <p class="error">
                    <%= errors.name.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Descripción:</label>
                <input name="description" type="text" class="text-field" id="description" value="<%= locals.oldData ? oldData.description : null%>">
                <div id="description-error" class="error-message"></div>
                <% if(locals.errors && errors.description) { %>
                    <p class="error">
                    <%= errors.description.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Título:</label>
                <input class="text-field" input="text" name="title" id="title" value="<%= locals.oldData ? oldData.title : null%>">
                <div id="title-error" class="error-message"></div>
                <% if(locals.errors && errors.title) { %>
                    <p class="error">
                    <%= errors.title.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Dirección:</label>
                <input class="text-field" input="text" name="location" id="location" value="<%= locals.oldData ? oldData.location : null%>">
                <div id="location-error" class="error-message"></div>
                <% if(locals.errors && errors.location) { %>
                    <p class="error">
                    <%= errors.location.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Imagen del producto</label>
                <input name="image" type="file" id="image" value="<%= locals.oldData ? oldData.location : productoEncontrado.image>">
                <div id="image-error" class="error-message"></div>
            </div>
            <div>
                <label>Price:</label>
                <input name="price" type="number" class="text-field" id="price" value="<%= locals.oldData ? oldData.price : null%>">
                <div id="price-error" class="error-message"></div>
                <% if(locals.errors && errors.price) { %>
                    <p class="error">
                    <%= errors.price.msg %></p>
                <% } %>
            </div>
            <div>
                <br>
                <label for="">Categoría: </label>
                    <br>
                    <input type="radio" value="5" name="categoria">
                    <label for="opcion1">Entretenimiento</label>
                    <br>
                    <input type="radio" value="1" name="categoria">
                    <label for="opcion2">Gastronomía</label>
                    <br>
                    <input type="radio" value="4" name="categoria">
                    <label for="opcion2">Cultura</label>
            </div>
            <div>
                <label>Descuento (%):</label>
                <input name="discount" type="number" class="text-field" id="discount" value="<%= locals.oldData ? oldData.discount : null%>">
                <div id="discount-error" class="error-message"></div>
                <% if(locals.errors && errors.discount) { %>
                    <p class="error">
                    <%= errors.discount.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Fecha:</label>
                <input name="date" type="date" class="text-field" id="date" value="<%= locals.oldData ? oldData.date : null%>">
                <div id="date-error" class="error-message"></div>
                <% if(locals.errors && errors.date) { %>
                    <p class="error">
                    <%= errors.date.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Hora:</label>
                <input name="time" type="time" class="text-field" id="time" value="<%= locals.oldData ? oldData.time : null%>">
                <div id="time-error" class="error-message"></div>
                <% if(locals.errors && errors.time) { %>
                    <p class="error">
                    <%= errors.time.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Capacidad:</label>
                <input name="maximumCapacity" type="number" class="text-field" id="maximumCapacity" value="<%= locals.oldData ? oldData.maximumCapacity : null%>">
                <div id="maximumCapacity-error" class="error-message"></div>
                <% if(locals.errors && errors.maximumCapacity) { %>
                    <p class="error">
                    <%= errors.maximumCapacity.msg %></p>
                <% } %>
            </div>
            <div>
                <label>Duración (minutos):</label>
                <input name="duration" type="number" class="text-field" id="duration" value="<%= locals.oldData ? oldData.duration : null%>">
                <div id="duration-error" class="error-message"></div>
                <% if(locals.errors && errors.duration) { %>
                    <p class="error">
                    <%= errors.duration.msg %></p>
                <% } %>
            </div>
            <button class="botonForm botonSubmit" type="submit">Editar producto</button>
            <br>
        </form>
        <form action="/products/delete/<%=productoEncontrado.id%>?_method=DELETE" method="post" display>
            <button class="botonForm botonReset" type="submit">Eliminar</button>
        </form>      
    </main>

    <%- include('./partials/footer')%>

</body>

</html>
